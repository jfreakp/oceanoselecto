{% extends 'base.html' %}
{% block title %}Registro{% endblock %}
{% block content %}
<div class="relative flex min-h-screen w-full flex-col overflow-x-hidden">
  <header class="flex items-center bg-background-light dark:bg-background-dark p-4 pb-2 justify-between sticky top-0 z-10">
    <div class="text-[#111827] dark:text-white flex size-12 shrink-0 items-center justify-center">
      <a href="/" aria-label="Volver">
        <span class="material-symbols-outlined">arrow_back_ios_new</span>
      </a>
    </div>
    <h2 class="text-[#111827] dark:text-white text-lg font-bold leading-tight tracking-[-0.015em] flex-1 text-center pr-12">Registro</h2>
  </header>

  <main class="flex flex-col flex-grow px-4">
    <h1 class="text-[#111827] dark:text-white tracking-light text-[32px] font-bold leading-tight pt-6 pb-2">Crear Cuenta</h1>
    <p class="text-gray-600 dark:text-gray-300 text-base pb-6">Únete a la comunidad de productores y compradores de camarón.</p>

    {% if form.non_field_errors %}
      <div class="w-full mb-4 rounded-lg border border-red-300 bg-red-50 text-red-700 p-3">
        {% for err in form.non_field_errors %}<p>{{ err }}</p>{% endfor %}
      </div>
    {% endif %}

    <form method="post" action="{% url 'signup' %}" class="flex flex-col gap-4">
      {% csrf_token %}

      <label class="flex flex-col" for="{{ form.full_name.id_for_label }}">
        <p class="text-[#111827] dark:text-gray-200 text-base font-medium leading-normal pb-2">Nombre completo</p>
        <div class="flex w-full flex-1 items-stretch rounded-lg">
          <input type="text" name="{{ form.full_name.name }}" id="{{ form.full_name.id_for_label }}"
                 value="{{ form.full_name.value|default_if_none:'' }}"
                 class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-[#111827] dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-[#dbe5e6] dark:border-gray-700 bg-white/50 dark:bg-white/5 focus:border-primary h-14 placeholder:text-gray-400 p-[15px] text-base"
                 placeholder="Ingresa tu nombre" />
        </div>
        {% if form.full_name.errors %}
          <p class="text-sm text-red-600 mt-1">{{ form.full_name.errors|striptags }}</p>
        {% endif %}
      </label>

      <label class="flex flex-col" for="{{ form.email.id_for_label }}">
        <p class="text-[#111827] dark:text-gray-200 text-base font-medium leading-normal pb-2">Correo electrónico</p>
        <div class="relative flex w-full flex-1 items-center">
          <input type="email" name="{{ form.email.name }}" id="{{ form.email.id_for_label }}"
                 value="{{ form.email.value|default_if_none:'' }}"
                 class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-[#111827] dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-[#dbe5e6] dark:border-gray-700 bg-white/50 dark:bg-white/5 focus:border-primary h-14 placeholder:text-gray-400 p-[15px] pl-12 text-base"
                 placeholder="tu@correo.com" />
          <span class="material-symbols-outlined text-gray-400 absolute left-3 pointer-events-none">mail</span>
        </div>
        {% if form.email.errors %}
          <p class="text-sm text-red-600 mt-1">{{ form.email.errors|striptags }}</p>
        {% endif %}
      </label>

      <label class="flex flex-col" for="{{ form.password1.id_for_label }}">
        <p class="text-[#111827] dark:text-gray-200 text-base font-medium leading-normal pb-2">Contraseña</p>
        <div class="relative flex w-full flex-1 items-center">
          <input type="password" name="{{ form.password1.name }}" id="{{ form.password1.id_for_label }}"
                 class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-[#111827] dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-[#dbe5e6] dark:border-gray-700 bg-white/50 dark:bg-white/5 focus:border-primary h-14 placeholder:text-gray-400 p-[15px] pl-12 pr-12 text-base"
                 placeholder="Crea una contraseña segura" />
          <span class="material-symbols-outlined text-gray-400 absolute left-3 pointer-events-none">lock</span>
          <button type="button" class="absolute right-3 text-gray-400"
                  onclick="const p=document.getElementById('{{ form.password1.id_for_label }}'); p.type=p.type==='password'?'text':'password';">
            <span class="material-symbols-outlined">visibility_off</span>
          </button>
        </div>
        {% if form.password1.errors %}
          <p class="text-sm text-red-600 mt-1">{{ form.password1.errors|striptags }}</p>
        {% endif %}
      </label>

      <label class="flex flex-col" for="{{ form.password2.id_for_label }}">
        <p class="text-[#111827] dark:text-gray-200 text-base font-medium leading-normal pb-2">Confirmar contraseña</p>
        <div class="relative flex w-full flex-1 items-center">
          <input type="password" name="{{ form.password2.name }}" id="{{ form.password2.id_for_label }}"
                 class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-[#111827] dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-[#dbe5e6] dark:border-gray-700 bg-white/50 dark:bg-white/5 focus:border-primary h-14 placeholder:text-gray-400 p-[15px] pl-12 pr-12 text-base"
                 placeholder="Repite tu contraseña" />
          <span class="material-symbols-outlined text-gray-400 absolute left-3 pointer-events-none">lock</span>
          <button type="button" class="absolute right-3 text-gray-400"
                  onclick="const p=document.getElementById('{{ form.password2.id_for_label }}'); p.type=p.type==='password'?'text':'password';">
            <span class="material-symbols-outlined">visibility_off</span>
          </button>
        </div>
        {% if form.password2.errors %}
          <p class="text-sm text-red-600 mt-1">{{ form.password2.errors|striptags }}</p>
        {% endif %}
      </label>

      <p class="text-xs text-gray-500 dark:text-gray-400 mt-2 text-center">
        Al registrarte, aceptas nuestros
        <a class="font-medium text-primary hover:underline" href="#">Términos de servicio</a> y
        <a class="font-medium text-primary hover:underline" href="#">Política de privacidad</a>.
      </p>

      <div class="p-4 pt-4 pb-8 space-y-4">
        <button type="submit" class="flex w-full items-center justify-center rounded-lg bg-primary text-black h-14 text-base font-bold">Registrarse</button>
        <p class="text-center text-sm text-gray-600 dark:text-gray-300">
          ¿Ya tienes una cuenta? <a class="font-bold text-primary hover:underline" href="{% url 'login' %}">Inicia sesión</a>
        </p>
      </div>
    </form>
  </main>
</div>
{% endblock %}
