{% extends 'base.html' %}
{% block title %}Nueva contraseña{% endblock %}
{% block content %}
<div class="relative flex min-h-screen w-full flex-col bg-background-light dark:bg-background-dark overflow-x-hidden">
  <div class="relative z-10 flex w-full grow flex-col justify-center px-6">
    <div class="mx-auto w-full max-w-md py-10">
      <h1 class="text-[#111718] dark:text-background-light tracking-tight text-[28px] font-bold leading-tight pb-2">Nueva contraseña</h1>
      {% if validlink %}
      <form method="post" class="space-y-4">
        {% csrf_token %}
        <label class="flex flex-col" for="{{ form.new_password1.id_for_label }}">
          <p class="text-[#111718] dark:text-gray-200 text-base font-medium pb-2">Contraseña</p>
          <input type="password" name="{{ form.new_password1.name }}" id="{{ form.new_password1.id_for_label }}"
                 class="form-input w-full rounded-lg text-[#111718] dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/30 border border-[#dbe5e6] dark:border-gray-700 bg-white/50 dark:bg-white/5 h-14 p-[15px]"
                 placeholder="Ingresa tu nueva contraseña" />
          {% if form.new_password1.errors %}
            <p class="text-sm text-red-600 mt-1">{{ form.new_password1.errors|striptags }}</p>
          {% endif %}
        </label>
        <label class="flex flex-col" for="{{ form.new_password2.id_for_label }}">
          <p class="text-[#111718] dark:text-gray-200 text-base font-medium pb-2">Confirmar contraseña</p>
          <input type="password" name="{{ form.new_password2.name }}" id="{{ form.new_password2.id_for_label }}"
                 class="form-input w-full rounded-lg text-[#111718] dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/30 border border-[#dbe5e6] dark:border-gray-700 bg-white/50 dark:bg-white/5 h-14 p-[15px]"
                 placeholder="Repite tu nueva contraseña" />
          {% if form.new_password2.errors %}
            <p class="text-sm text-red-600 mt-1">{{ form.new_password2.errors|striptags }}</p>
          {% endif %}
        </label>
        <button type="submit" class="flex items-center justify-center w-full h-12 px-6 rounded-lg bg-primary text-black text-base font-bold hover:bg-opacity-90">Guardar</button>
      </form>
      {% else %}
      <p class="text-gray-600 dark:text-gray-300">El enlace no es válido o ha expirado. Solicita un nuevo <a class="text-primary font-medium hover:underline" href="{% url 'password_reset' %}">restablecimiento</a>.</p>
      {% endif %}
    </div>
  </div>
</div>
{% endblock %}
